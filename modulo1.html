<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>M√≥dulo 1: Valoraci√≥n y Fisiopatolog√≠a - Dr. H√©ctor Castro</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Inter', sans-serif; background-color: #f0f4f8; }
        .info-card { background-color: white; border-radius: 0.75rem; box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1); padding: 1.5rem; margin-bottom: 1.5rem; }
        .infographic { border: 1px solid #e5e7eb; border-radius: 0.75rem; padding: 1.5rem; background-color: #fafafa; }
        .footer-note { text-align: center; padding: 2rem 1rem; font-size: 0.875rem; color: #6b7280; margin-top: 2rem; border-top: 1px solid #e5e7eb; }
        .monro-kellie-container { display: flex; flex-direction: column; align-items: center; padding: 1.5rem; border-radius: 0.75rem; background: #ffffff; box-shadow: 0 0 15px rgba(0,0,0,0.05); }
        .chart-area { display: flex; align-items: flex-end; gap: 1.5rem; width: 100%; justify-content: center; flex-wrap: wrap; }
        .skull-box { width: 100%; max-width: 320px; height: 250px; border: 4px solid #1f2937; border-radius: 45% 45% 0.5rem 0.5rem; display: flex; align-items: flex-end; justify-content: center; overflow: hidden; position: relative; background: repeating-linear-gradient(45deg, #f9fafb, #f9fafb 10px, #f3f4f6 10px, #f3f4f6 20px); }
        .volume-bar { width: 25%; transition: height 0.3s ease-in-out, background-color 0.3s ease; display: flex; justify-content: center; align-items: flex-end; color: white; font-weight: bold; font-size: 0.75rem; padding-bottom: 5px; text-shadow: 1px 1px 2px rgba(0,0,0,0.5); }
        .pic-gauge-container { width: 60px; height: 250px; background-color: #e5e7eb; border: 2px solid #9ca3af; border-radius: 0.5rem; display: flex; flex-direction: column-reverse; overflow: hidden; }
        .pic-gauge-level { width: 100%; height: 0; background-color: #22c55e; transition: height 0.3s ease-in-out, background-color 0.3s ease-in-out; }
        #pic-status-text { font-weight: 700; font-size: 1.125rem; transition: color 0.3s ease; }
        @keyframes shake { 0%, 100% { transform: translateX(0); } 25% { transform: translateX(-3px); } 75% { transform: translateX(3px); } }
        .critical-shake { animation: shake 0.2s ease-in-out 2; }
        .pressure-volume-chart { position: relative; width: 100%; max-width: 500px; margin-top: 2rem; }
        .pressure-volume-chart svg { width: 100%; overflow: visible; }
        .pv-curve-indicator { transition: all 0.3s ease-in-out; }
        .sim-button { @apply w-full text-left p-3 bg-gray-700 hover:bg-gray-600 rounded-lg transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed; }
        .sim-button-correct { @apply bg-green-600 !important; }
        .sim-button-incorrect { @apply bg-red-600 !important; }
        .sim-feedback { @apply mt-4 p-3 rounded-lg text-sm font-semibold; }
        .sim-feedback.correct { @apply bg-green-100 text-green-800; }
        .sim-feedback.incorrect { @apply bg-red-100 text-red-800; }
        .sim-control-button { @apply mt-4 px-5 py-2 rounded-lg font-semibold text-white transition-colors duration-200; }
        .modal { transition: opacity 0.3s ease, transform 0.3s ease; }
        .modal-content { transition: transform 0.3s ease; }
        .action-button { background-color: #3b82f6; color: white; padding: 0.75rem 1.5rem; border-radius: 0.5rem; font-weight: 600; text-align: center; transition: background-color 0.3s ease; display: inline-block; }
        .action-button:hover { background-color: #2563eb; }
        .action-button.secondary { background-color: #6b7280; }
        .action-button.secondary:hover { background-color: #4b5563; }
        .action-button.indigo { background-color: #4f46e5; }
        .action-button.indigo:hover { background-color: #4338ca; }
        .action-button.green { background-color: #16a34a; }
        .action-button.green:hover { background-color: #15803d; }
        .action-button.purple { background-color: #9333ea; }
        .action-button.purple:hover { background-color: #7e22ce; }
    </style>
</head>
<body class="text-gray-800">

    <div class="container mx-auto p-4 md:p-8">
        <!-- Encabezado Principal -->
        <header class="text-center mb-8">
            <h1 class="text-3xl md:text-4xl font-bold text-blue-600">Abordaje del Paciente Neurocr√≠tico</h1>
        </header>

        <!-- Contenido del M√≥dulo 1 -->
        <main>
            <div id="modulo1">
                <div class="info-card">
                    <h2 class="text-2xl font-bold text-blue-700 mb-4">M√≥dulo 1: Valoraci√≥n Inicial y Fisiopatolog√≠a</h2>
                    <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
                        <div class="lg:col-span-2 space-y-6">
                            
                            <h3 class="font-bold text-xl text-gray-800 border-b pb-2">Definici√≥n, Etiolog√≠a y Fisiopatolog√≠a de la lesi√≥n cerebral</h3>
                            <div class="mt-4 flex flex-wrap gap-4">
                                <a href="definicion-clasificacion.html" class="action-button">Definici√≥n y clasificaci√≥n del paciente neurocr√≠tico</a>
                                <a href="da√±o-cerebral.html" class="action-button">Fisiopatolog√≠a de la Lesi√≥n Cerebral</a>
                            </div>

                            <h3 class="font-bold text-xl text-gray-800 border-b pb-2 mt-6">Fisiopatolog√≠a de la hipertensi√≥n intracraneal</h3>
                            <p>Basada en la <strong>Doctrina de Monro-Kellie</strong>, el cr√°neo es una b√≥veda r√≠gida con un volumen fijo (par√©nquima 80%, sangre 10%, LCR 10%). Un aumento en uno de los componentes (ej. un hematoma) debe ser compensado por la disminuci√≥n de otro. Cuando este mecanismo de compensaci√≥n falla, la <strong>Presi√≥n Intracraneal (PIC)</strong> aumenta peligrosamente.</p>
                            <div class="mt-4 flex flex-wrap gap-4">
                                <button onclick="openModal('modal-dashboard-mk')" class="action-button indigo">Dashboard Interactivo Monro-Kellie</button>
                                <a href="monro-kellie.html" class="action-button indigo">Monro Kellie 4.0</a>
                                <button class="action-button secondary">Futuro Enlace</button>
                            </div>

                            <h3 class="font-bold text-xl text-gray-800 border-b pb-2 mt-6">Evaluaci√≥n Neurol√≥gica Sistem√°tica</h3>
                            <p>El examen neurol√≥gico es la herramienta de neuromonitorizaci√≥n m√°s fundamental y accesible. El uso de escalas estandarizadas permite una evaluaci√≥n objetiva, reproducible y comunicable del estado del paciente.</p>
                            <ul class="list-disc list-inside space-y-2 pl-4">
                                <li><strong>Escala de Coma de Glasgow (GCS):</strong> Eval√∫a el nivel de conciencia (ocular, verbal, motora). Un GCS ‚â§ 8 define un TCE severo.</li>
                                <li><strong>Evaluaci√≥n Pupilar:</strong> Se valora tama√±o, simetr√≠a y reactividad a la luz. Cambios como la anisocoria pueden indicar herniaci√≥n.</li>
                                <li><strong>Escala NIHSS (National Institutes of Health Stroke Scale):</strong> Cuantifica el d√©ficit neurol√≥gico en pacientes con EVC.</li>
                            </ul>
                            <div class="mt-4 flex flex-wrap gap-4">
                                <a href="exploracion-neuro.html" class="action-button green">Evaluaci√≥n Neurol√≥gica</a>
                                <button onclick="openModal('modal-gcs-calculator')" class="action-button green">Evaluaci√≥n de GCS</button>
                                <a href="calculadora-nihss.html" class="action-button green">Evaluaci√≥n Ictus NIHSS</a>
                            </div>

                            <h3 class="font-bold text-xl text-gray-800 border-b pb-2 mt-6">ABCD Primario y Secundario con Enfoque Neurol√≥gico</h3>
                            <p>La evaluaci√≥n primaria (ABCD) y secundaria est√°ndar debe adaptarse con un enfoque neurol√≥gico. En la 'C' de Circulaci√≥n, la hipotensi√≥n se evita agresivamente, ya que una PAM baja reduce directamente la PPC. En la 'D' de Disability (D√©ficit), se realiza una evaluaci√≥n r√°pida de la GCS y las pupilas para establecer una l√≠nea de base neurol√≥gica.</p>
                            <div class="mt-4 flex flex-wrap gap-4">
                                <a href="protocolo-atls.html" class="action-button purple">ATLS</a>
                                <a href="protocolo-brain.html" class="action-button purple">BRAIN</a>
                                <a href="protocolo-bts.html" class="action-button purple">BTS</a>
                            </div>

                        </div>
                        <div class="lg:col-span-1 space-y-6">
                            <div class="bg-white p-6 rounded-lg shadow-md">
                                <div class="space-y-3">
                                    <button onclick="openModal('modal-gcs')" class="w-full bg-blue-50 hover:bg-blue-100 text-blue-800 font-semibold py-3 px-4 rounded-lg text-left transition-colors duration-200 flex items-center"><span class="text-xl mr-3">üìö</span> Biblioteca</button>
                                    <button onclick="openModal('modal-pupilas')" class="w-full bg-blue-50 hover:bg-blue-100 text-blue-800 font-semibold py-3 px-4 rounded-lg text-left transition-colors duration-200 flex items-center"><span class="text-xl mr-3">ü©∫</span> Casos Cl√≠nicos</button>
                                    <a href="https://www.ninds.nih.gov/health-information/professional-resources/nih-stroke-scale" target="_blank" class="w-full bg-blue-50 hover:bg-blue-100 text-blue-800 font-semibold py-3 px-4 rounded-lg text-left transition-colors duration-200 flex items-center"><span class="text-xl mr-3">üí°</span> Perlas Cl√≠nicas</a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <footer class="footer-note">¬©Ô∏è 2025 Dr. H√©ctor Castro. Todos los derechos reservados. Esta informaci√≥n no sustituye las gu√≠as de manejo de cada unidad hospitalaria tampoco el criterio o juicio cl√≠nico de cada profesional de la salud. La informaci√≥n aqu√≠ presentada es contenido educativo destinado para profesionales sanitarios.</footer>
            </div>
        </main>
    </div>

    <!-- Modales -->
    <div id="modal-dashboard-mk" class="modal fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center p-4 z-50 opacity-0 pointer-events-none">
        <div class="modal-content bg-gray-100 w-full max-w-4xl rounded-lg shadow-2xl p-6 transform scale-95 overflow-y-auto max-h-[90vh]">
            <div class="flex justify-between items-center border-b pb-3 mb-4">
                <h3 class="text-xl font-bold text-gray-800">Dashboard Interactivo: Monro-Kellie y Curva P/V</h3>
                <button onclick="closeModal('modal-dashboard-mk')" class="text-gray-500 hover:text-gray-800 text-3xl">&times;</button>
            </div>
            <div id="monro-kellie-container" class="monro-kellie-container">
                <div class="chart-area">
                    <div class="skull-box">
                        <div id="bar-brain" class="volume-bar bg-gray-600" style="height: 80%;"></div>
                        <div id="bar-blood" class="volume-bar bg-red-600" style="height: 10%;"></div>
                        <div id="bar-csf" class="volume-bar bg-blue-500" style="height: 10%;"></div>
                        <div id="bar-mass" class="volume-bar bg-purple-600" style="height: 0%;"></div>
                    </div>
                    <div class="flex flex-col items-center">
                        <div class="pic-gauge-container"><div id="pic-gauge-level" class="pic-gauge-level"></div></div>
                        <span id="pic-status-text" class="mt-2 text-green-600">PIC NORMAL</span>
                    </div>
                </div>
                <div class="flex justify-around w-full max-w-lg mt-3 text-xs md:text-sm font-semibold">
                    <div class="text-center w-1/4">Par√©nquima<br><span id="label-brain">80%</span></div>
                    <div class="text-center w-1/4">Sangre<br><span id="label-blood">10%</span></div>
                    <div class="text-center w-1/4">LCR<br><span id="label-csf">10%</span></div>
                    <div class="text-center w-1/4">Lesi√≥n<br><span id="label-mass">0%</span></div>
                </div>
                <div class="pressure-volume-chart">
                    <h4 class="text-center font-semibold text-gray-700 mb-2">Curva de Presi√≥n-Volumen Cerebral</h4>
                    <svg id="pv-chart" viewBox="0 0 300 200">
                        <line x1="20" y1="10" x2="20" y2="180" stroke="#9ca3af" stroke-width="1"/><line x1="20" y1="180" x2="280" y2="180" stroke="#9ca3af" stroke-width="1"/><text x="5" y="15" font-size="8" fill="#6b7280" style="writing-mode: vertical-rl; text-orientation: mixed;">PIC</text><text x="270" y="195" font-size="8" fill="#6b7280">Volumen</text>
                        <rect x="20" y="10" width="133" height="170" fill="#22c55e" fill-opacity="0.1" /><rect x="153" y="10" width="127" height="170" fill="#ef4444" fill-opacity="0.1" /><text x="65" y="175" font-size="8" fill="#15803d">Compensaci√≥n</text><text x="185" y="175" font-size="8" fill="#b91c1c">Descompensaci√≥n</text>
                        <path id="pv-curve-path" d="M 20,170 C 100,170 120,165 153,100 S 200,10 280,10" stroke="#3b82f6" stroke-width="2.5" fill="none"/>
                        <circle id="pv-curve-indicator" class="pv-curve-indicator" cx="20" cy="170" r="5" fill="#1d4ed8" stroke="white" stroke-width="1.5"/>
                    </svg>
                </div>
                <div class="w-full max-w-md mt-4">
                    <label for="mass-slider" class="block text-center font-semibold mb-1">Aumentar tama√±o de la lesi√≥n</label>
                    <input id="mass-slider" type="range" min="0" max="30" value="0" class="w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer">
                </div>
            </div>
        </div>
    </div>
    <div id="modal-gcs" class="modal fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center p-4 z-50 opacity-0 pointer-events-none"><div class="modal-content bg-white w-full max-w-2xl rounded-lg shadow-2xl p-6 transform scale-95"><div class="flex justify-between items-center border-b pb-3 mb-4"><h3 class="text-xl font-bold text-gray-800">üìã Gu√≠a R√°pida: Escala de Coma de Glasgow (GCS)</h3><button onclick="closeModal('modal-gcs')" class="text-gray-500 hover:text-gray-800 text-3xl">&times;</button></div><img src="https://placehold.co/600x400/ffffff/000000?text=Tabla+Visual+de+la+Escala+de+Glasgow" alt="Tabla de GCS" class="w-full rounded-md"></div></div>
    <div id="modal-pupilas" class="modal fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center p-4 z-50 opacity-0 pointer-events-none"><div class="modal-content bg-white w-full max-w-2xl rounded-lg shadow-2xl p-6 transform scale-95"><div class="flex justify-between items-center border-b pb-3 mb-4"><h3 class="text-xl font-bold text-gray-800">üëÅÔ∏è Gu√≠a R√°pida: Valoraci√≥n Pupilar</h3><button onclick="closeModal('modal-pupilas')" class="text-gray-500 hover:text-gray-800 text-3xl">&times;</button></div><img src="https://placehold.co/600x300/ffffff/000000?text=Im√°genes+de+Pupilas+Normales+y+Patol√≥gicas" alt="Infograf√≠a de valoraci√≥n pupilar" class="w-full rounded-md"></div></div>
    <div id="modal-gcs-calculator" class="modal fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center p-4 z-50 opacity-0 pointer-events-none"><div class="modal-content bg-white w-full max-w-2xl rounded-lg shadow-2xl p-6 transform scale-95"><div class="flex justify-between items-center border-b pb-3 mb-4"><h3 class="text-xl font-bold text-gray-800">Calculadora de GCS</h3><button onclick="closeModal('modal-gcs-calculator')" class="text-gray-500 hover:text-gray-800 text-3xl">&times;</button></div><p>Aqu√≠ ir√° la calculadora de GCS.</p></div></div>
    
    <script>
        document.addEventListener('DOMContentLoaded', () => { setupMonroKellieChart(); });
        function setupMonroKellieChart() {
            const slider = document.getElementById('mass-slider'); if (!slider) return;
            const container = document.getElementById('monro-kellie-container');
            const barBrain = document.getElementById('bar-brain'), barBlood = document.getElementById('bar-blood'), barCsf = document.getElementById('bar-csf'), barMass = document.getElementById('bar-mass');
            const labelBrain = document.getElementById('label-brain'), labelBlood = document.getElementById('label-blood'), labelCsf = document.getElementById('label-csf'), labelMass = document.getElementById('label-mass');
            const gaugeLevel = document.getElementById('pic-gauge-level'), statusText = document.getElementById('pic-status-text');
            const pvIndicator = document.getElementById('pv-curve-indicator'), pvCurvePath = document.getElementById('pv-curve-path'), pathLength = pvCurvePath.getTotalLength();
            const initialBrain = 80, initialBlood = 10, initialCsf = 10, compensationLimit = initialBlood + initialCsf;
            slider.addEventListener('input', () => {
                const massValue = parseInt(slider.value); let newCsf = initialCsf, newBlood = initialBlood;
                if (massValue > 0) { const csfCompensation = Math.min(initialCsf, massValue); newCsf -= csfCompensation; const remainingMass = massValue - csfCompensation; if (remainingMass > 0) { newBlood -= Math.min(initialBlood, remainingMass); } }
                const totalVolume = initialBrain + newBlood + newCsf + massValue; const pressureIncrease = Math.max(0, totalVolume - 100);
                barBrain.style.height = `${initialBrain}%`; barBlood.style.height = `${newBlood}%`; barCsf.style.height = `${newCsf}%`; barMass.style.height = `${massValue}%`;
                labelBrain.textContent = `${initialBrain}%`; labelBlood.textContent = `${newBlood.toFixed(0)}%`; labelCsf.textContent = `${newCsf.toFixed(0)}%`; labelMass.textContent = `${massValue}%`;
                const gaugeHeight = Math.min(100, (pressureIncrease / (slider.max - compensationLimit)) * 100 * 2.5); gaugeLevel.style.height = `${gaugeHeight}%`;
                container.classList.remove('critical-shake');
                if (pressureIncrease > 5) { statusText.textContent = 'PIC CR√çTICA'; statusText.style.color = '#ef4444'; gaugeLevel.style.backgroundColor = '#ef4444'; container.classList.add('critical-shake'); }
                else if (pressureIncrease > 0) { statusText.textContent = 'PIC ELEVADA'; statusText.style.color = '#f59e0b'; gaugeLevel.style.backgroundColor = '#f59e0b'; }
                else { statusText.textContent = 'PIC NORMAL'; statusText.style.color = '#22c55e'; gaugeLevel.style.backgroundColor = '#22c55e'; }
                let progress = (massValue / slider.max); let pointOnPath = pvCurvePath.getPointAtLength(progress * pathLength);
                pvIndicator.setAttribute('cx', pointOnPath.x); pvIndicator.setAttribute('cy', pointOnPath.y);
            });
        }
        function openModal(modalId) { const m = document.getElementById(modalId); if (!m) return; m.classList.remove('opacity-0', 'pointer-events-none'); m.querySelector('.modal-content').classList.remove('scale-95'); }
        function closeModal(modalId) { const m = document.getElementById(modalId); if (!m) return; m.classList.add('opacity-0'); m.querySelector('.modal-content').classList.add('scale-95'); setTimeout(() => m.classList.add('pointer-events-none'), 300); }
        document.querySelectorAll('.modal').forEach(m => m.addEventListener('click', (e) => { if (e.target === m) closeModal(m.id); }));
    </script>
</body>
</html>
